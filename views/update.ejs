<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update User</title>
    <link rel="stylesheet" href="/update.css">
</head>
<body>
    <h1>Update user <%= id %></h1>

    <div class="container">
        
            <label for="name">Nome: </label>
            <input type="text" id="name" name="name" value=<%= name %>>

            <label for="email">Email: </label>
            <input type="email" id="email" name="email" value=<%= email %>>

            <label for="passw">Password: </label>
            <input type="password" id="passw" name="passw" >

            <button onclick=<%= `UpdateUser(${id})` %>>Atualizar</button>
        
    </div>


    <script>


        function UpdateUser(id) {
            fetch(`../` + id, {
                method: 'PUT',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    name: document.getElementById('name').value,
                    email: document.getElementById('email').value,
                    passw: document.getElementById('passw').value
                })
            })
            .then(response => {
                window.location.replace('../../')
                response.ok
                console.log(document.getElementById('passw').value)
            })
            .catch(err => {
                console.error("Erro: " + err)
            })
        }

    </script>
</body>
</html>
